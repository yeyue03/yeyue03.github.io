{"version":3,"sources":["webpack:///./src/views/chart/canvas/index.vue","webpack:///./src/views/chart/canvas/index.vue?d208","webpack:///./src/views/chart/canvas/components/CoordinateAxis.vue?af9e","webpack:///./src/views/chart/canvas/components/CoordinateAxis.vue?7e17","webpack:///./src/views/chart/canvas/components/CoordinateAxis.vue","webpack:///./src/views/chart/canvas/components/CoordinateAxis.vue?b24a","webpack:///./src/views/chart/canvas/components/CoordinateAxis.vue?fb3e"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_coordinate_axis","defineComponent","name","components","CoordinateAxis","setup","__exports__","render","content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","_createElementVNode","ref","_hoisted_2","style","_normalizeStyle","_ctx","canvasStyle","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","formState","startValue","_component_a_input_number","min","max","step","precision","value","endValue","$event","onChange","changeValue","props","canvasWidth","type","Number","canvasHeight","toRefs","reactive","canvasRef","ctx","gridSpace","axisSpace","xLineNumber","Math","floor","yLineNumber","nextTick","getContext","width","height","setCanvas","clearRect","strokeStyle","beginPath","moveTo","lineTo","stroke","closePath","fill"],"mappings":"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","file":"static/js/chunk-4d4af462.fa0ef81b.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <coordinate-axis></coordinate-axis>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport CoordinateAxis from \"./components/CoordinateAxis.vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"DemoCanvas\",\r\n  components: {\r\n    CoordinateAxis,\r\n  },\r\n  setup() {\r\n    return {};\r\n  },\r\n});\r\n</script>\r\n","import { render } from \"./index.vue?vue&type=template&id=64b4a8ab\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Git\\\\study-package\\\\vue-study\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../node_modules/less-loader/index.js??ref--11-oneOf-1-4!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CoordinateAxis.vue?vue&type=style&index=0&id=ea49ab0e&lang=less&scopede=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"877094fa\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".axis-wrap{width:205px}.canvas-box{width:220px;height:230px;background:#eee}.tag-box{width:100%;padding:10px 0;display:flex;justify-content:space-around;align-items:center}.tag-box .tag-span{width:80px;text-align:center}.tag-box .ant-input-number-input{text-align:center}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","<template>\r\n  <div class=\"axis-wrap\">\r\n    <div class=\"tag-box\">\r\n      <span class=\"tag-span\">Ramp 01</span>\r\n      <span class=\"tag-span\">1h:00m</span>\r\n    </div>\r\n\r\n    <div class=\"canvas-box\" :style=\"canvasStyle\">\r\n      <canvas ref=\"canvasRef\">\r\n        您的浏览器不支持canvas\r\n      </canvas>\r\n    </div>\r\n\r\n    <div class=\"tag-box\">\r\n      <span class=\"tag-span\">{{ formState.startValue }}</span>\r\n      <a-input-number class=\"tag-span\" :min=\"1\" :max=\"70\" :step=\"1\" :precision=\"0\" v-model:value=\"formState.endValue\" @change=\"changeValue\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, defineComponent, nextTick, reactive, toRefs } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"CoordinateAxis\",\r\n  props: {\r\n    canvasWidth: {\r\n      type: Number,\r\n      default: () => {\r\n        return 205;\r\n      }\r\n    },\r\n    canvasHeight: {\r\n      type: Number,\r\n      default: () => {\r\n        return 110;\r\n      }\r\n    }\r\n  },\r\n  setup(props) {\r\n    const { canvasWidth, canvasHeight } = toRefs(props); // 获取画布的宽、高\r\n\r\n    const formState = reactive({\r\n      startValue: 10,\r\n      endValue: 20,\r\n    });\r\n\r\n    const canvasRef = ref();\r\n    let ctx = null;\r\n    const gridSpace = 10; // 网格线间隔 px\r\n    const axisSpace = 10; // 坐标轴留白 px\r\n    const xLineNumber = Math.floor(canvasWidth.value / gridSpace) + 1; // 计算需要几条竖线\r\n    const yLineNumber = Math.floor(canvasHeight.value / gridSpace) - 1; // 计算需要几条横线\r\n\r\n    nextTick(() => {\r\n      ctx = canvasRef.value.getContext(\"2d\");\r\n      // ctx.canvas.style.width = canvasWidth.value + 'px';\r\n      // ctx.canvas.style.height = canvasHeight.value + 'px';\r\n      ctx.width = canvasWidth.value;\r\n      ctx.height = canvasHeight.value;\r\n      setCanvas();\r\n    });\r\n\r\n    const setCanvas = () => {\r\n      ctx.clearRect(0, 0, canvasWidth.value, canvasHeight.value);\r\n\r\n      ctx.strokeStyle = \"#ccc\";\r\n      for (let i = 2; i < xLineNumber; i++) {\r\n        // 循环画竖线 边界不要线，所以i从2开始\r\n        ctx.beginPath();\r\n        ctx.moveTo(i * gridSpace, gridSpace);\r\n        ctx.lineTo(i * gridSpace, canvasHeight.value - axisSpace);\r\n        ctx.stroke();\r\n      }\r\n      for (let i = 2; i < yLineNumber; i++) {\r\n        // 循环画横线\r\n        ctx.beginPath();\r\n        ctx.moveTo(gridSpace, i * gridSpace);\r\n        ctx.lineTo(canvasWidth.value, i * gridSpace);\r\n        ctx.stroke();\r\n      }\r\n\r\n      ctx.strokeStyle = \"black\";\r\n      // 绘制X轴\r\n      ctx.beginPath();\r\n      ctx.moveTo(axisSpace, canvasHeight.value - axisSpace);\r\n      ctx.lineTo(canvasWidth.value - axisSpace, canvasHeight.value - axisSpace);\r\n      ctx.stroke();\r\n\r\n      // 绘制Y轴\r\n      ctx.beginPath();\r\n      ctx.moveTo(axisSpace, axisSpace);\r\n      ctx.lineTo(axisSpace, canvasHeight.value - axisSpace);\r\n      ctx.stroke();\r\n\r\n      // 绘制X轴的箭头\r\n      ctx.moveTo(canvasWidth.value - axisSpace, canvasHeight.value - axisSpace - 5);\r\n      ctx.lineTo(canvasWidth.value - axisSpace, canvasHeight.value - axisSpace + 5);\r\n      ctx.lineTo(canvasWidth.value - axisSpace + 10, canvasHeight.value - axisSpace);\r\n      ctx.closePath();\r\n      ctx.fill();\r\n\r\n      // 绘制Y轴箭头\r\n      ctx.moveTo(axisSpace - 5, axisSpace);\r\n      ctx.lineTo(axisSpace + 5, axisSpace);\r\n      ctx.lineTo(axisSpace, axisSpace - 10);\r\n      ctx.closePath();\r\n      ctx.fill();\r\n\r\n      // 绘制直线\r\n      ctx.beginPath();\r\n      ctx.moveTo(axisSpace, canvasHeight.value - axisSpace - formState.startValue);\r\n      ctx.lineTo(canvasWidth.value, canvasHeight.value - axisSpace - formState.endValue);\r\n      ctx.strokeStyle = \"#0080FF\";\r\n      ctx.stroke();\r\n    };\r\n\r\n    const changeValue = () => {\r\n      setCanvas();\r\n    };\r\n\r\n    return {\r\n      canvasRef,\r\n      formState,\r\n      canvasStyle: {\r\n        width: canvasWidth.value + 'px',\r\n        height: canvasHeight.value + 'px',\r\n        'border-color': '#f5f5f5'\r\n      },\r\n      changeValue,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"less\" scopede>\r\n.axis-wrap {\r\n  width: 205px;\r\n}\r\n.canvas-box {\r\n  width: 220px;\r\n  height: 230px;\r\n  background: #eee;\r\n}\r\n.tag-box {\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n\r\n  .tag-span {\r\n    width: 80px;\r\n    text-align: center;\r\n  }\r\n  .ant-input-number-input {\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CoordinateAxis.vue?vue&type=template&id=ea49ab0e\"\nimport script from \"./CoordinateAxis.vue?vue&type=script&lang=js\"\nexport * from \"./CoordinateAxis.vue?vue&type=script&lang=js\"\n\nimport \"./CoordinateAxis.vue?vue&type=style&index=0&id=ea49ab0e&lang=less&scopede=true\"\n\nimport exportComponent from \"D:\\\\Git\\\\study-package\\\\vue-study\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../node_modules/less-loader/index.js??ref--11-oneOf-1-4!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CoordinateAxis.vue?vue&type=style&index=0&id=ea49ab0e&lang=less&scopede=true\""],"sourceRoot":""}