import{ev as v,C as d,E as f,r as h,s as c,Q as p,w as g,t as S,ax as w,bc as y,y as C,z as q,al as x,Z as O,u as k}from"./index.d6323a8b.js";const{createMessage:B}=k(),D={name:"JOnlineSearchSelect",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},sql:{type:String,required:!0}},emits:["update:value"],setup(s,{emit:i}){let a=d(""),t=d([]);f(()=>s.value,e=>{e?a.value=e:a.value=void 0},{immediate:!0}),f(()=>s.sql,()=>{n()},{immediate:!0});const u=x(r,800);function r(e=""){let m={keyword:e},_="/online/cgreport/api/getReportDictList?sql="+s.sql;O.get({url:_,params:m},{isTransformResponse:!1}).then(l=>{l.success?l.result&&l.result.length>0?t.value=l.result:t.value=[]:B.warning(l.message)})}function o(e){i("update:value",e),(!e||e=="")&&n()}function n(){t.value=[],r()}return{selectOptions:t,handleSearch:u,handleChange:o,selected:a}}};function b(s,i,a,t,u,r){const o=h("a-select-option"),n=h("a-select");return c(),p(n,{value:t.selected,placeholder:a.placeholder,"show-search":"","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null,onSearch:t.handleSearch,onChange:t.handleChange,allowClear:""},{default:g(()=>[(c(!0),S(w,null,y(t.selectOptions,e=>(c(),p(o,{key:e.value},{default:g(()=>[C(q(e.text),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder","onSearch","onChange"])}var F=v(D,[["render",b]]);export{F as default};
