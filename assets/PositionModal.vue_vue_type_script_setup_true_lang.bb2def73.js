var F=Object.defineProperty;var f=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var g=(t,s,e)=>s in t?F(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,h=(t,s)=>{for(var e in s||(s={}))w.call(s,e)&&g(t,e,s[e]);if(f)for(var e of f(s))P.call(s,e)&&g(t,e,s[e]);return t};var m=(t,s,e)=>new Promise((c,l)=>{var d=o=>{try{r(e.next(o))}catch(a){l(a)}},p=o=>{try{r(e.throw(o))}catch(a){l(a)}},r=o=>o.done?c(o.value):Promise.resolve(o.value).then(d,p);r((e=e.apply(t,s)).next())});import{B as x}from"./index.d82ed84a.js";import{u as E,B as _}from"./useForm.c448380d.js";import"./componentMap.fc77c2dc.js";import{Z as u,a2 as A,j as C,C as I,bH as b,H as i,m as D,s as M,Q as U,w as v,v as k,x as T}from"./index.d6323a8b.js";const N=[{title:"\u804C\u52A1\u540D\u79F0",dataIndex:"name",width:200}],Q=[{field:"name",label:"\u804C\u52A1\u540D\u79F0",component:"Input",colProps:{span:8}}],L=[{label:"\u4E3B\u952E",field:"id",component:"Input",show:!1},{field:"name",label:"\u804C\u52A1\u540D\u79F0",component:"Input",required:!0}],X="/sys/position/exportXls",Z="/sys/position/importExcel",$=t=>u.get({url:"/sys/position/list",params:t}),R=(t,s)=>{const e=s?"/sys/position/edit":"/sys/position/add";return u.post({url:e,params:t})},j=t=>u.get({url:"/sys/position/queryById",params:t}),z=(t,s)=>u.delete({url:"/sys/position/delete",data:t},{joinParamsToUrl:!0}).then(()=>{s()}),J=(t,s)=>{A.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u6570\u636E",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:()=>u.delete({url:"/sys/position/deleteBatch",data:t},{joinParamsToUrl:!0}).then(()=>{s()})})},K=C({__name:"PositionModal",emits:["success","register"],setup(t,{emit:s}){const e=I(!0),[c,{resetFields:l,setFieldsValue:d,validate:p}]=E({schemas:L,showActionButtonGroup:!1}),[r,{setModalProps:o,closeModal:a}]=b(n=>m(this,null,function*(){yield l(),o({confirmLoading:!1}),e.value=!!(n!=null&&n.isUpdate),i(e)&&(n.record=yield j({id:n.record.id}),yield d(h({},n.record)))})),y=D(()=>i(e)?"\u7F16\u8F91\u804C\u52A1":"\u65B0\u589E\u804C\u52A1");function B(){return m(this,null,function*(){try{const n=yield p();o({confirmLoading:!0}),yield R(n,e.value),a(),s("success")}finally{o({confirmLoading:!1})}})}return(n,H)=>(M(),U(i(x),T(n.$attrs,{onRegister:i(r),title:i(y),onOk:B,width:700}),{default:v(()=>[k(i(_),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{K as _,X as a,Z as b,N as c,z as d,J as e,$ as g,Q as s};
