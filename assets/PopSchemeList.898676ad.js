import{j as P,o as g,C as l,m as y,ds as _,q as L,r as p,s as C,Q as w,w as c,v as h,y as S,z as r,t as I,aW as b,R as N}from"./index.d6323a8b.js";import{h as T,i as $}from"./controller.api.50e8f0e1.js";import{i as B}from"./useMitt.81ca58b0.js";const D=P({name:"PopSchemeList",setup(){const{t:e}=g(),t=l(!1),f=l(!1),v=y(()=>[{title:"\u8BA1\u5212\u6A21\u677F\u540D\u79F0",dataIndex:"name",key:"name",width:400,ellipsis:!0},{title:"\u64CD\u4F5C",dataIndex:"action",key:"action"}]),i=l(0),n=l([]),s=()=>{n.value=[];const a={deviceId:i.value};$(a).then(k=>{n.value=k||[]})},d=a=>{T(a).then(()=>{_.success(e("device.tips.deleteSuccess")),s()})},m=a=>{a||_.warning(e("device.tips.templateNull")),B(a),o()},u=a=>{i.value=a,s(),t.value=!0},o=()=>{t.value=!1};return{t:e,visible:t,columns:v,dataSource:n,submitLoading:f,showModal:u,handleCancel:o,deletePlanTemplate:d,replacePlan:m}}});const V={key:0,class:"btn-box"},z=["onClick"],F=["onClick"];function A(e,t,f,v,i,n){const s=p("a-button"),d=p("a-table"),m=p("a-modal");return C(),w(m,{wrapClassName:"one-column-modal",title:e.t("device.infoPop.scheme"),visible:e.visible,maskClosable:!1,confirmLoading:e.submitLoading,width:700,onOk:e.handleCancel,onCancel:e.handleCancel},{footer:c(()=>[h(s,{size:"large",onClick:e.handleCancel},{default:c(()=>[S(r(e.t("device.infoPop.cancel")),1)]),_:1},8,["onClick"])]),default:c(()=>[h(d,{size:"small",columns:e.columns,"data-source":e.dataSource},{bodyCell:c(({column:u,record:o})=>[u.key==="action"?(C(),I("div",V,[b("a",{onClick:a=>e.replacePlan(o.settings)},r(e.t("device.infoPop.replace")),9,z),b("a",{onClick:a=>e.deletePlanTemplate(o.id)},r(e.t("device.infoPop.delete")),9,F)])):N("",!0)]),_:1},8,["columns","data-source"])]),_:1},8,["title","visible","confirmLoading","onOk","onCancel"])}const q=L(D,[["render",A],["__scopeId","data-v-9f5be897"]]);export{q as default};
