var r=(d,p,a)=>new Promise((f,i)=>{var c=e=>{try{o(a.next(e))}catch(s){i(s)}},u=e=>{try{o(a.throw(e))}catch(s){i(s)}},o=e=>e.done?f(e.value):Promise.resolve(e.value).then(c,u);o((a=a.apply(d,p)).next())});import{B as S}from"./index.d82ed84a.js";import{o as k,u as M,v as R,w as g}from"./tenant.api.12483c43.js";import{useListPage as F}from"./useListPage.148819a1.js";import L from"./BasicTable.0a886d20.js";import{T as P}from"./componentMap.fc77c2dc.js";import"./BasicTable.vue_vue_type_style_index_0_lang.fd294b48.js";import"./useTable.2733e6a7.js";import{j,C as N,H as n,bH as O,r as V,s as b,Q as C,w as l,v as _,y as A,R as H,x as U}from"./index.d6323a8b.js";const Y=j({__name:"TenantUserModal",emits:["register","success"],setup(d,{emit:p}){const a=N(0),{prefixCls:f,tableContext:i}=F({designScope:"tenant-template",tableProps:{api:k,columns:M,immediate:!1,formConfig:{schemas:R,labelCol:{span:8},actionColOptions:{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8}},beforeFetch:t=>Object.assign(t,{userTenantId:n(a)})}}),[c,{reload:u},{rowSelection:o,selectedRowKeys:e}]=i,[s,{setModalProps:K,closeModal:h}]=O(t=>r(this,null,function*(){a.value=t.id,m()})),x="\u6210\u5458";function B(t){return r(this,null,function*(){h()})}function v(t){return[{label:"\u8BF7\u79BB",onClick:w.bind(null,t.id)}]}function m(){(e.value=[])&&u()}function w(t){return r(this,null,function*(){yield g({userIds:t,tenantId:n(a)},m)})}function y(){return r(this,null,function*(){yield g({userIds:e.value.join(","),tenantId:n(a)},m)})}return(t,Q)=>{const T=V("a-button");return b(),C(n(S),U(t.$attrs,{onRegister:n(s),title:x,onOk:B,width:"800px"}),{default:l(()=>[_(n(L),{onRegister:n(c),rowSelection:n(o)},{tableTitle:l(()=>[n(e).length>0?(b(),C(T,{key:0,preIcon:"ant-design:delete-outlined",type:"primary",onClick:y,style:{"margin-right":"5px"}},{default:l(()=>[A("\u6279\u91CF\u8BF7\u79BB")]),_:1})):H("",!0)]),action:l(({record:I})=>[_(n(P),{actions:v(I)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"])]),_:1},16,["onRegister"])}}});export{Y as _};
