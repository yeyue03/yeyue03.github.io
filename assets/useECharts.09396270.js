var F=Object.defineProperty;var k=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var z=(s,t,n)=>t in s?F(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,D=(s,t)=>{for(var n in t||(t={}))H.call(t,n)&&z(s,n,t[n]);if(k)for(var n of k(t))b.call(t,n)&&z(s,n,t[n]);return s};import{ap as x,m as E,C as y,E as R,ak as S,H as i,a$ as v,M as T,am as h,cI as B,al as L}from"./index.d6323a8b.js";import{e as M}from"./echarts.89625759.js";function q(s,t="default"){const{getDarkMode:n}=x(),u=E(()=>t==="default"?n.value:t);let e=null,l=p;const a=y({});let m=()=>{};l=L(p,200);const g=E(()=>u.value!=="dark"?a.value:D({backgroundColor:"transparent"},a.value));function c(o=t){const r=i(s);if(!r||!i(r))return;e=M.init(r,o);const{removeEvent:f}=h({el:window,name:"resize",listener:l});m=f;const{widthRef:w,screenEnum:C}=B();(i(w)<=C.MD||r.offsetHeight===0)&&v(()=>{l()},30)}function d(o,r=!0){var f;if(a.value=o,((f=i(s))==null?void 0:f.offsetHeight)===0){v(()=>{d(i(g))},30);return}T(()=>{v(()=>{!e&&(c(u.value),!e)||(r&&(e==null||e.clear()),e==null||e.setOption(i(g)))},30)})}function p(){e==null||e.resize()}R(()=>u.value,o=>{e&&(e.dispose(),c(o),d(a.value))}),S(()=>{!e||(m(),e.dispose(),e=null)});function O(){return e||c(u.value),e}return{setOptions:d,resize:p,echarts:M,getInstance:O}}export{q as useECharts};
