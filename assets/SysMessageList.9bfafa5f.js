import{a as U,u as q}from"./useSysMessage.2b04a3e2.js";import{v as r,av as _,q as J,aJ as Q,r as u,s as i,Q as f,w as o,t as m,y as H,R as A,aW as h,z as C,ax as S}from"./index.d6323a8b.js";var W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M193 796c0 17.7 14.3 32 32 32h574c17.7 0 32-14.3 32-32V563c0-176.2-142.8-319-319-319S193 386.8 193 563v233zm72-233c0-136.4 110.6-247 247-247s247 110.6 247 247v193H404V585c0-5.5-4.5-10-10-10h-44c-5.5 0-10 4.5-10 10v171h-75V563zm-48.1-252.5l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3l-67.9-67.9a8.03 8.03 0 00-11.3 0l-39.6 39.6a8.03 8.03 0 000 11.3l67.9 67.9c3.1 3.1 8.1 3.1 11.3 0zm669.6-79.2l-39.6-39.6a8.03 8.03 0 00-11.3 0l-67.9 67.9a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l67.9-67.9c3.1-3.2 3.1-8.2 0-11.3zM832 892H192c-17.7 0-32 14.3-32 32v24c0 4.4 3.6 8 8 8h688c4.4 0 8-3.6 8-8v-24c0-17.7-14.3-32-32-32zM484 180h56c4.4 0 8-3.6 8-8V76c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v96c0 4.4 3.6 8 8 8z"}}]},name:"alert",theme:"outlined"};const G=W;function D(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){X(n,l,t[l])})}return n}function X(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var k=function(e,t){var a=D({},e,t.attrs);return r(_,D({},a,{icon:G}),null)};k.displayName="AlertOutlined";k.inheritAttrs=!1;const Y=k;var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.8-240-277.2V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.8C336.3 170.2 232 286.9 232 428v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48z"}}]},name:"bell",theme:"filled"};const K=Z;function T(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){ee(n,l,t[l])})}return n}function ee(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var F=function(e,t){var a=T({},e,t.attrs);return r(_,T({},a,{icon:K}),null)};F.displayName="BellFilled";F.inheritAttrs=!1;const te=F;var ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M448 804a64 64 0 10128 0 64 64 0 10-128 0zm32-168h64c4.4 0 8-3.6 8-8V164c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]},name:"exclamation",theme:"outlined"};const ae=ne;function $(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){le(n,l,t[l])})}return n}function le(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var w=function(e,t){var a=$({},e,t.attrs);return r(_,$({},a,{icon:ae}),null)};w.displayName="ExclamationOutlined";w.inheritAttrs=!1;const re=w;var oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const ce=oe;function I(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){ie(n,l,t[l])})}return n}function ie(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var L=function(e,t){var a=I({},e,t.attrs);return r(_,I({},a,{icon:ce}),null)};L.displayName="FilterOutlined";L.inheritAttrs=!1;const se=L;var ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"};const de=ue;function N(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){fe(n,l,t[l])})}return n}function fe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var V=function(e,t){var a=N({},e,t.attrs);return r(_,N({},a,{icon:de}),null)};V.displayName="InteractionOutlined";V.inheritAttrs=!1;const ge=V;var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};const pe=me;function R(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),a.forEach(function(l){_e(n,l,t[l])})}return n}function _e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var B=function(e,t){var a=R({},e,t.attrs);return r(_,R({},a,{icon:pe}),null)};B.displayName="MailOutlined";B.inheritAttrs=!1;const be=B;const ve={name:"SysMessageList",components:{FilterOutlined:se,CloseOutlined:Q,BellFilled:te,ExclamationOutlined:re,MailOutlined:be,InteractionOutlined:ge,AlertOutlined:Y},props:{star:{type:Boolean,default:!1}},emits:["close","detail"],setup(n,{emit:e}){const{messageList:t,loadEndStatus:a,loadingMoreStatus:l,onLoadMore:E,noRead:M,getMsgCategory:x,searchParams:g,reset:b,loadData:d,updateStarMessage:p}=U();function v(s){let{fromUser:z,rangeDateKey:c,rangeDate:j}=s;g.fromUser=z||"",g.rangeDateKey=c||"",g.rangeDate=j||[],n.star===!0?g.starFlag="1":g.starFlag="",b(),d()}function O(s){console.log(s),p(s),s.starFlag=="1"?s.starFlag="0":s.starFlag="1"}const{goPage:y}=q(e);function P(s){s.readFlag="1",y(s),e("close",s.id)}return{messageList:t,loadEndStatus:a,loadingMoreStatus:l,onLoadMore:E,noRead:M,getMsgCategory:x,reload:v,clickStar:O,showMessageDetail:P}}},Oe={key:0,style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"}},ye={key:1,style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"}},he={style:{position:"relative"}},Se=["innerHTML"],Me=["innerHTML"],xe=["onClick"];function Pe(n,e,t,a,l,E){const M=u("a-button"),x=u("a-rate"),g=u("a-tooltip"),b=u("mail-outlined"),d=u("a-avatar"),p=u("a-badge"),v=u("interaction-outlined"),O=u("alert-outlined"),y=u("bell-filled"),P=u("a-list-item-meta"),s=u("a-list-item"),z=u("a-list");return i(),f(z,{"item-layout":"horizontal","data-source":a.messageList},{loadMore:o(()=>[a.messageList&&a.messageList.length>0&&!a.loadEndStatus&&!a.loadingMoreStatus?(i(),m("div",Oe,[r(M,{onClick:a.onLoadMore},{default:o(()=>[H("\u52A0\u8F7D\u66F4\u591A")]),_:1},8,["onClick"])])):A("",!0),a.messageList&&a.messageList.length>0&&a.loadEndStatus?(i(),m("div",ye," \u6CA1\u6709\u66F4\u591A\u4E86 ")):A("",!0)]),renderItem:o(({item:c})=>[r(s,null,{actions:o(()=>[r(x,{value:c.starFlag=="1"?1:0,count:1,onClick:j=>a.clickStar(c),style:{cursor:"pointer"},disabled:""},null,8,["value","onClick"])]),default:o(()=>[r(P,{description:c.createTime},{title:o(()=>[h("div",he,[h("span",null,C(a.getMsgCategory(c)),1),c.busType=="bpm"?(i(),m("span",{key:0,class:"bpm-cuiban-content",innerHTML:c.msgContent},null,8,Se)):(i(),f(g,{key:1},{title:o(()=>[h("div",{innerHTML:c.msgContent},null,8,Me)]),default:o(()=>[H(" "+C(c.titile),1)]),_:2},1024)),h("a",{onClick:j=>a.showMessageDetail(c),style:{"margin-left":"16px"}},"\u67E5\u770B\u8BE6\u60C5",8,xe)])]),avatar:o(()=>[c.busType=="email"?(i(),m(S,{key:0},[a.noRead(c)?(i(),f(p,{key:0,dot:"",class:"msg-no-read"},{default:o(()=>[r(d,{style:{background:"#79919d"}},{default:o(()=>[r(b,{style:{"font-size":"16px"},title:"\u672A\u8BFB\u6D88\u606F"})]),_:1})]),_:1})):(i(),f(d,{key:1,style:{background:"#79919d"}},{default:o(()=>[r(b,{style:{"font-size":"16px"}})]),_:1}))],64)):c.busType=="bpm_task"?(i(),m(S,{key:1},[a.noRead(c)?(i(),f(p,{key:0,dot:"",class:"msg-no-read"},{default:o(()=>[r(d,{style:{background:"#79919d"}},{default:o(()=>[r(v,{style:{"font-size":"16px"},title:"\u672A\u8BFB\u6D88\u606F"})]),_:1})]),_:1})):(i(),f(d,{key:1,style:{background:"#79919d"}},{default:o(()=>[r(v,{style:{"font-size":"16px"}})]),_:1}))],64)):c.busType=="bpm"?(i(),m(S,{key:2},[a.noRead(c)?(i(),f(p,{key:0,dot:"",class:"msg-no-read"},{default:o(()=>[r(d,{style:{background:"#79919d"}},{default:o(()=>[r(O,{style:{"font-size":"16px"},title:"\u672A\u8BFB\u6D88\u606F"})]),_:1})]),_:1})):(i(),f(d,{key:1,style:{background:"#79919d"}},{default:o(()=>[r(O,{style:{"font-size":"16px"}})]),_:1}))],64)):(i(),m(S,{key:3},[a.noRead(c)?(i(),f(p,{key:0,dot:"",class:"msg-no-read"},{default:o(()=>[r(d,{style:{background:"#79919d"}},{default:o(()=>[r(y,{style:{"font-size":"16px"},title:"\u672A\u8BFB\u6D88\u606F"})]),_:1})]),_:1})):(i(),f(d,{key:1,style:{background:"#79919d"}},{default:o(()=>[r(y,{style:{"font-size":"16px"}})]),_:1}))],64))]),_:2},1032,["description"])]),_:2},1024)]),_:1},8,["data-source"])}const ze=J(ve,[["render",Pe],["__scopeId","data-v-8972d9a2"]]),Fe=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"}));export{te as B,re as E,se as F,ze as S,Fe as a};
