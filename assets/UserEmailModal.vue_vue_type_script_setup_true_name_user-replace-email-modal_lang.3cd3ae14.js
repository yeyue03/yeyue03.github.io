var A=Object.defineProperty,R=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var v=(s,a,e)=>a in s?A(s,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[a]=e,p=(s,a)=>{for(var e in a||(a={}))N.call(a,e)&&v(s,e,a[e]);if(E)for(var e of E(a))V.call(a,e)&&v(s,e,a[e]);return s},F=(s,a)=>R(s,x(a));var _=(s,a,e)=>new Promise((o,r)=>{var f=t=>{try{l(e.next(t))}catch(n){r(n)}},m=t=>{try{l(e.throw(t))}catch(n){r(n)}},l=t=>t.done?o(t.value):Promise.resolve(t.value).then(f,m);l((e=e.apply(s,a)).next())});import{B as j}from"./BasicModal.d35d2f99.js";import{j as C,cN as z,a7 as H,C as y,a6 as O,bH as P,r as d,s as S,Q as U,w as i,v as c,y as q,x as D,H as I,u as L}from"./index.d6323a8b.js";import"./index.d82ed84a.js";import{rules as Q}from"./validator.c70dd823.js";import{a as T}from"./UserSetting.api.025fdb57.js";const $=C({name:"user-replace-email-modal"}),Z=C(F(p({},$),{emits:["register","success"],setup(s,{emit:a}){z();const{createMessage:e}=L(),o=H({email:""}),r=y(),f={email:[p({},Q.duplicateCheckRule("sys_user","email",o,{label:"\u90AE\u7BB1"})[0]),{required:!0,type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E"}]};O.useForm;const m=y(""),[l,{setModalProps:t,closeModal:n}]=P(u=>_(this,null,function*(){r.value.resetFields(),r.value.clearValidate(),t({confirmLoading:!1}),m.value="\u4FEE\u6539\u90AE\u7BB1",u.record.smscode="",Object.assign(o,u.record)}));function k(){return _(this,null,function*(){yield r.value.validateFields(),T(o).then(u=>{u.success?(e.success("\u4FEE\u6539\u90AE\u7BB1\u6210\u529F"),a("success"),n()):e.warning(u.message)})})}return(u,B)=>{const w=d("a-input"),g=d("a-form-item"),M=d("a-button"),b=d("a-form");return S(),U(j,D(u.$attrs,{onRegister:I(l),width:"500px",title:m.value,showCancelBtn:!1,showOkBtn:!1}),{default:i(()=>[c(b,{class:"antd-modal-form",ref_key:"formRef",ref:r,model:o,rules:f},{default:i(()=>[c(g,{name:"email"},{default:i(()=>[c(w,{size:"large",value:o.email,"onUpdate:value":B[0]||(B[0]=h=>o.email=h),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"},null,8,["value"])]),_:1}),c(g,null,{default:i(()=>[c(M,{size:"large",type:"primary",block:"",onClick:k},{default:i(()=>[q(" \u786E\u8BA4 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},16,["onRegister","title"])}}}));export{Z as _};
