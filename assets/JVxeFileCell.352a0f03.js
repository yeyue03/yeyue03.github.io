import{U as w}from"./JUpload.vue_vue_type_style_index_0_lang.a2ed25c2.js";import"./JUploadModal.vue_vue_type_script_setup_true_lang.1a9447ac.js";import{j as D,eo as v,q as A,r as a,s as t,t as m,ax as E,bc as V,Q as i,w as n,v as o,aW as u,z as g,y as p,R as d,N as B,O as N,x as b}from"./index.d6323a8b.js";import{c as M,u as U,e as J}from"./useFileCell.323104b3.js";import"./api.47fd90c6.js";import"./index.d82ed84a.js";import"./BasicModal.d35d2f99.js";import"./useWindowSizeFn.0b6b5a55.js";const R=D({name:"JVxeFileCell",components:M,props:v(),setup(e){return U(e,w.file)},enhanced:J}),$=u("span",{style:{"margin-left":"5px"}},"\u4E0A\u4F20\u4E2D\u2026",-1),L={style:{"margin-left":"5px"}},O={style:{"margin-left":"5px"}};function I(e,P,T,S,j,q){const _=a("LoadingOutlined"),r=a("a-tooltip"),l=a("Icon"),c=a("a-menu-item"),C=a("a-menu"),f=a("Dropdown"),h=a("a-button"),k=a("a-upload"),y=a("JUploadModal");return t(),m("div",null,[e.hasFile?(t(!0),m(E,{key:0},V([e.innerFile||{}],(s,F)=>(t(),m("div",{key:F,style:{position:"relative"}},[s.status==="uploading"?(t(),i(r,{key:0,title:`\u4E0A\u4F20\u4E2D(${Math.floor(s.percent)}%)`},{default:n(()=>[o(_),$]),_:2},1032,["title"])):s.status==="done"?(t(),i(r,{key:1,title:s.name},{default:n(()=>[o(l,{icon:"ant-design:paper-clip"}),u("span",L,g(e.ellipsisFileName),1)]),_:2},1032,["title"])):(t(),i(r,{key:2,title:s.message||"\u4E0A\u4F20\u5931\u8D25"},{default:n(()=>[o(l,{icon:"ant-design:exclamation-circle",style:{color:"red"}}),u("span",O,g(e.ellipsisFileName),1)]),_:2},1032,["title"])),o(f,{trigger:["click"],placement:"bottomRight",style:{"margin-left":"10px"}},{overlay:n(()=>[o(C,null,{default:n(()=>[e.originColumn.allowDownload!==!1?(t(),i(c,{key:0,onClick:e.handleClickDownloadFile},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:download"}),p("\xA0\u4E0B\u8F7D")])]),_:1},8,["onClick"])):d("",!0),e.originColumn.allowRemove!==!1?(t(),i(c,{key:1,onClick:e.handleClickDeleteFile},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:delete"}),p("\xA0\u5220\u9664")])]),_:1},8,["onClick"])):d("",!0),o(c,{onClick:e.handleMoreOperation},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:bars"}),p("\xA0\u66F4\u591A")])]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[o(r,{title:"\u64CD\u4F5C"},{default:n(()=>[s.status!=="uploading"?(t(),i(l,{key:0,icon:"ant-design:setting",style:{cursor:"pointer"}})):d("",!0)]),_:2},1024)]),_:2},1024)]))),128)):d("",!0),B(o(k,b({name:"file",data:{isup:1},multiple:!1,action:e.uploadAction,headers:e.uploadHeaders,showUploadList:!1},e.cellProps,{onChange:e.handleChangeUpload}),{default:n(()=>[o(h,{preIcon:"ant-design:upload"},{default:n(()=>[p(g(e.originColumn.btnText||"\u70B9\u51FB\u4E0A\u4F20"),1)]),_:1})]),_:1},16,["action","headers","onChange"]),[[N,!e.hasFile]]),o(y,{value:e.modalValue,onRegister:e.registerModel,onChange:e.onModalChange},null,8,["value","onRegister","onChange"])])}const Y=A(R,[["render",I]]);export{Y as default};
