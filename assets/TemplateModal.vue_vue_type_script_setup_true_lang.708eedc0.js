var d=Object.defineProperty;var w=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var h=(r,o,e)=>o in r?d(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,g=(r,o)=>{for(var e in o||(o={}))M.call(o,e)&&h(r,e,o[e]);if(w)for(var e of w(o))k.call(o,e)&&h(r,e,o[e]);return r};var p=(r,o,e)=>new Promise((a,c)=>{var m=t=>{try{n(e.next(t))}catch(l){c(l)}},u=t=>{try{n(e.throw(t))}catch(l){c(l)}},n=t=>t.done?a(t.value):Promise.resolve(t.value).then(m,u);n((e=e.apply(r,o)).next())});import{u as y,B as C}from"./useForm.c448380d.js";import"./componentMap.fc77c2dc.js";import{j as R,C as B,bH as b,H as i,s as x,Q as L,w as O,v as P,x as S}from"./index.d6323a8b.js";import{B as U}from"./index.d82ed84a.js";import{f as H,s as V}from"./template.api.d06e193a.js";const $=R({__name:"TemplateModal",emits:["success","register"],setup(r,{emit:o}){const e=B(""),a=B(!1),[c,{resetFields:m,setFieldsValue:u,validate:n,updateSchema:t,setProps:l}]=y({schemas:H,showActionButtonGroup:!1}),[_,{setModalProps:f,closeModal:F}]=b(s=>p(this,null,function*(){f({confirmLoading:!1,showCancelBtn:!!(s!=null&&s.showFooter),showOkBtn:!!(s!=null&&s.showFooter)}),a.value=i(s.isUpdate),e.value=i(s.title),yield m(),yield u(g({},s.record)),l({disabled:!(s!=null&&s.showFooter)})}));function v(){return p(this,null,function*(){try{const s=yield n();f({confirmLoading:!0}),yield V(s,a),F(),o("success")}finally{f({confirmLoading:!1})}})}return(s,j)=>(x(),L(i(U),S({onRegister:i(_),title:e.value,width:800},s.$attrs,{onOk:v}),{default:O(()=>[P(i(C),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{$ as _};
