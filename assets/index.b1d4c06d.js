var M=(g,D,s)=>new Promise((I,_)=>{var S=p=>{try{y(s.next(p))}catch(c){_(c)}},T=p=>{try{y(s.throw(p))}catch(c){_(c)}},y=p=>p.done?I(p.value):Promise.resolve(p.value).then(S,T);y((s=s.apply(g,D)).next())});import{j as _e,dO as ve,C as f,bI as N,m as ye,at as be,a7 as E,E as Ce,H as l,r as i,s as B,t as j,bT as he,v as e,w as t,ax as xe,R as K,aW as k,y as r,z as O,Q as Fe,B as we,au as Ee,ab as Be,dm as ke,dn as De,q as Ie}from"./index.d6323a8b.js";import Se from"./BasicTable.0a886d20.js";import{J as z,T as Te}from"./componentMap.fc77c2dc.js";import"./BasicTable.vue_vue_type_style_index_0_lang.fd294b48.js";import{u as Ae}from"./useTable.2733e6a7.js";import"./index.d82ed84a.js";import{g as Re,c as Ue,s as Me,a as Q,b as je,_ as Ke,d as qe,e as Je}from"./DemoModal.vue_vue_type_script_setup_true_lang.2e6e4fde.js";import{J as $e}from"./JImportModal.dfcfbce6.js";import"./useForm.c448380d.js";import"./BasicForm.vue_vue_type_style_index_0_lang.3b7179f6.js";import"./uniqBy.b473c125.js";import"./BasicModal.d35d2f99.js";import"./useWindowSizeFn.0b6b5a55.js";import"./useFormItem.3a0d2c3a.js";import"./JUpload.vue_vue_type_style_index_0_lang.a2ed25c2.js";import"./api.47fd90c6.js";import"./download.17d84636.js";import"./base64Conver.030fa32c.js";import"./index.51946d8c.js";import"./index.6450ecda.js";import"./useCountdown.5d182bba.js";import"./areaDataUtil.8b289fd7.js";import"./props.184f6ff3.js";import"./index.e9877282.js";import"./bem.40e6f864.js";import"./props.5cd8551a.js";import"./useContextMenu.d4034b7b.js";import"./index.53758bc7.js";import"./onMountedOrActivated.f230a25e.js";import"./depart.api.2cd5c45f.js";import"./index.56d246a9.js";import"./index.1430ee38.js";import"./useContentHeight.618fc37a.js";import"./useContentViewHeight.68b39758.js";import"./usePageContext.c54f47f4.js";import"./RedoOutlined.2aa4f93d.js";import"./renderUtils.26796073.js";const V=g=>(ke("data-v-ce6260af"),g=g(),De(),g),Ne=["onKeyup"],Oe=V(()=>k("span",null,"~",-1)),ze={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},Qe=V(()=>k("span",null,"~",-1)),Ve=_e({__name:"index",setup(g){const D=ve(),s=f([]),[I,{openModal:_}]=N(),[S,{openModal:T}]=N(),{handleExportXls:y,handleImportXls:p}=Ee(),c=f(),A=f(),F=f(!1),[Y,{reload:v,setProps:q}]=Ae({title:"\u5355\u8868\u793A\u4F8B",api:Re,columns:Ue,formConfig:{schemas:Me,fieldMapToTime:[["birthday",["birthday_begin","birthday_end"],"YYYY-MM-DD"]],fieldMapToNumber:[["age",["age_begin","age_end"]]],autoAdvancedCol:2,actionColOptions:{style:{textAlign:"left"}}},defSort:{column:"createTime,sex",order:"desc"},striped:!0,useSearchForm:!0,showTableSetting:!0,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,tableSetting:{fullScreen:!0},canResize:!1,rowKey:"id",actionColumn:{width:180,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),P={type:"checkbox",columnWidth:40,selectedRowKeys:s,onChange:X};function H(){T(!0)}const L=ye(()=>{let a={};return s.value&&s.value.length>0&&(a.selections=s.value.join(",")),be(a)});function W(a){return[{label:"\u7F16\u8F91",onClick:Z.bind(null,a)},{label:"\u8BE6\u60C5",onClick:ee.bind(null,a)},{label:"\u5220\u9664",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:te.bind(null,a)}}]}function X(a){console.log("checkedKeys------>",s),s.value=a}function G(){F.value=!1,_(!0,{isUpdate:!1})}function Z(a){F.value=!1,_(!0,{record:a,isUpdate:!0})}function ee(a){F.value=!0,_(!0,{record:a,isUpdate:!0})}function te(a){return M(this,null,function*(){yield qe({id:a.id},v)})}function oe(){return M(this,null,function*(){yield Je({ids:s.value},v)})}function J(a,o){a[o]=[l(c),l(A)]}function ae(){D("/comp/jeecg/basic")}f();const ne=E({xs:{span:24},sm:{span:7}}),le=E({xs:{span:24},sm:{span:16}}),b=f(!1),m=f(!1),u=E({name:"",age_begin:"",age_end:"",sex:"",id:""});Ce(m,()=>{q({useSearchForm:!l(m)})});function R(){q({searchInfo:Be(u)}),v()}function ue(){Object.assign(u,{name:"",age_begin:"",age_end:"",sex:"",id:""}),v()}const se=E({name:{title:"\u540D\u79F0",view:"text",type:"string",order:1},sex:{title:"\u6027\u522B",view:"list",type:"string",dictCode:"sex",order:2}});function ie(a){Object.keys(a).map(o=>{u[o]=a[o]}),R()}return(a,o)=>{const C=i("a-input"),w=i("a-form-item"),h=i("a-col"),d=i("a-button"),U=i("Icon"),re=i("a-row"),de=i("a-form"),pe=i("a-upload"),ce=i("super-query"),me=i("a-menu-item"),fe=i("a-menu"),ge=i("a-dropdown");return B(),j("div",null,[m.value?(B(),j("div",{key:0,class:"jeecg-basic-table-form-container",onKeyup:he(R,["enter"])},[e(de,{ref:"formRef",model:u,"label-col":ne,"wrapper-col":le},{default:t(()=>[e(re,{gutter:24},{default:t(()=>[e(h,{lg:8},{default:t(()=>[e(w,{label:"\u7528\u6237\u540D"},{default:t(()=>[e(C,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u6A21\u7CCA\u67E5\u8BE2",value:u.name,"onUpdate:value":o[0]||(o[0]=n=>u.name=n)},null,8,["value"])]),_:1})]),_:1}),e(h,{lg:8},{default:t(()=>[e(w,{label:"\u5E74\u9F84"},{default:t(()=>[e(C,{placeholder:"\u6700\u5C0F\u5E74\u9F84",type:"ge",value:u.age_begin,"onUpdate:value":o[1]||(o[1]=n=>u.age_begin=n),style:{width:"calc(50% - 15px)"}},null,8,["value"]),Oe,e(C,{placeholder:"\u6700\u5927\u5E74\u9F84",type:"le",value:u.age_end,"onUpdate:value":o[2]||(o[2]=n=>u.age_end=n),style:{width:"calc(50% - 15px)"}},null,8,["value"])]),_:1})]),_:1}),b.value?(B(),j(xe,{key:0},[e(h,{lg:8},{default:t(()=>[e(w,{label:"\u6027\u522B"},{default:t(()=>[e(z,{value:u.sex,"onUpdate:value":o[3]||(o[3]=n=>u.sex=n),placeholder:"\u8BF7\u9009\u62E9\u6027\u522B",dictCode:"sex"},null,8,["value"])]),_:1})]),_:1}),e(h,{lg:8},{default:t(()=>[e(w,{label:"\u9009\u62E9\u7528\u6237"},{default:t(()=>[e(z,{value:u.id,"onUpdate:value":o[4]||(o[4]=n=>u.id=n),placeholder:"\u8BF7\u9009\u62E9\u7528\u6237",dictCode:"demo,name,id"},null,8,["value"])]),_:1})]),_:1})],64)):K("",!0),k("span",ze,[e(h,{lg:6},{default:t(()=>[e(d,{type:"primary",preIcon:"ant-design:search-outlined",onClick:R},{default:t(()=>[r("\u67E5\u8BE2")]),_:1}),e(d,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:ue,style:{"margin-left":"8px"}},{default:t(()=>[r("\u91CD\u7F6E")]),_:1}),k("a",{onClick:o[5]||(o[5]=n=>b.value=!b.value),style:{"margin-left":"8px"}},[r(O(b.value?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),e(U,{icon:b.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1},8,["model","label-col","wrapper-col"])],40,Ne)):K("",!0),e(l(Se),{onRegister:l(Y),rowSelection:P,class:we({"p-4":m.value})},{"form-age":t(({model:n,field:$})=>[e(C,{placeholder:"\u6700\u5C0F\u5E74\u9F84",type:"ge",value:c.value,"onUpdate:value":o[6]||(o[6]=x=>c.value=x),style:{width:"calc(50% - 15px)"},onChange:x=>J(n,$)},null,8,["value","onChange"]),Qe,e(C,{placeholder:"\u6700\u5927\u5E74\u9F84",type:"le",value:A.value,"onUpdate:value":o[7]||(o[7]=x=>A.value=x),style:{width:"calc(50% - 15px)"},onChange:x=>J(n,$)},null,8,["value","onChange"])]),tableTitle:t(()=>[e(d,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:G},{default:t(()=>[r("\u65B0\u589E")]),_:1}),e(pe,{name:"file",showUploadList:!1,customRequest:n=>l(p)(n,l(Q),l(v))},{default:t(()=>[e(d,{preIcon:"ant-design:import-outlined",type:"primary"},{default:t(()=>[r("\u5BFC\u5165")]),_:1})]),_:1},8,["customRequest"]),e(d,{preIcon:"ant-design:export-outlined",type:"primary",onClick:o[8]||(o[8]=n=>l(y)("\u5355\u8868\u793A\u4F8B",l(je),l(L)))},{default:t(()=>[r("\u5BFC\u51FA")]),_:1}),e(d,{preIcon:"ant-design:filter",type:"primary",onClick:o[9]||(o[9]=()=>{})},{default:t(()=>[r("\u9AD8\u7EA7\u67E5\u8BE2")]),_:1}),e(d,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:ae},{default:t(()=>[r("\u6253\u5F00Tab\u9875")]),_:1}),e(d,{preIcon:"ant-design:retweet-outlined",type:"primary",onClick:o[10]||(o[10]=n=>m.value=!m.value)},{default:t(()=>[r(O(m.value?"\u8868\u5355\u914D\u7F6E\u67E5\u8BE2":"\u81EA\u5B9A\u4E49\u67E5\u8BE2"),1)]),_:1}),e(d,{preIcon:"ant-design:import-outlined",type:"primary",onClick:H},{default:t(()=>[r("\u5F39\u7A97\u5BFC\u5165")]),_:1}),e(ce,{config:se,onSearch:ie},null,8,["config"]),s.value.length>0?(B(),Fe(ge,{key:0},{overlay:t(()=>[e(fe,null,{default:t(()=>[e(me,{key:"1",onClick:oe},{default:t(()=>[e(U,{icon:"ant-design:delete-outlined"}),r(" \u5220\u9664 ")]),_:1})]),_:1})]),default:t(()=>[e(d,null,{default:t(()=>[r("\u6279\u91CF\u64CD\u4F5C "),e(U,{style:{fontsize:"12px"},icon:"ant-design:down-outlined"})]),_:1})]),_:1})):K("",!0)]),action:t(({record:n})=>[e(l(Te),{actions:W(n)},null,8,["actions"])]),_:1},8,["onRegister","class"]),e(Ke,{onRegister:l(I),onSuccess:l(v),isDisabled:F.value},null,8,["onRegister","onSuccess","isDisabled"]),e($e,{onRegister:l(S),url:l(Q),online:""},null,8,["onRegister","url"])])}}});const St=Ie(Ve,[["__scopeId","data-v-ce6260af"]]);export{St as default};
