var s=(o,l,c)=>new Promise((t,f)=>{var F=r=>{try{a(c.next(r))}catch(i){f(i)}},e=r=>{try{a(c.throw(r))}catch(i){f(i)}},a=r=>r.done?t(r.value):Promise.resolve(r.value).then(F,e);a((c=c.apply(o,l)).next())});import{_ as k,h as $}from"./BasicForm.vue_vue_type_style_index_0_lang.3b7179f6.js";import{q as M,r as u,s as h,Q as S,w as p,v as A,S as y,t as R,bc as g,ax as C,x as P,bx as B,by as b,bz as w,bT as j,C as V,ca as O,cb as L,cc as E,ag as D,H as d,c7 as K,E as z,c8 as H,$ as I,c9 as _,M as q}from"./index.d6323a8b.js";import{h as v}from"./componentMap.fc77c2dc.js";function N(o,l,c,t,f,F){const e=u("FormItem"),a=u("FormAction"),r=u("Row"),i=u("Form");return h(),S(i,P(o.getBindValue,{class:o.getFormClass,ref:"formElRef",model:o.formModel,onKeypress:j(o.handleEnterPress,["enter"])}),{default:p(()=>[A(r,b(w(o.getRow)),{default:p(()=>[y(o.$slots,"formHeader"),(h(!0),R(C,null,g(o.getSchema,n=>(h(),S(e,{key:n.field,tableAction:o.tableAction,formActionType:o.formActionType,schema:n,formProps:o.getProps,allDefaultValues:o.defaultValueRef,formModel:o.formModel,setFormModel:o.setFormModel},B({_:2},[g(Object.keys(o.$slots),m=>({name:m,fn:p(T=>[y(o.$slots,m,b(w(T||{})))])}))]),1032,["tableAction","formActionType","schema","formProps","allDefaultValues","formModel","setFormModel"]))),128)),A(a,P(o.getFormActionBindProps,{onToggleAdvanced:o.handleToggleAdvanced}),B({_:2},[g(["resetBefore","submitBefore","advanceBefore","advanceAfter"],n=>({name:n,fn:p(m=>[y(o.$slots,n,b(w(m||{})))])}))]),1040,["onToggleAdvanced"]),y(o.$slots,"formFooter")]),_:3},16)]),_:3},16,["class","model","onKeypress"])}const W=M(k,[["render",N]]);function X(o){const l=V(null),c=V(!1);v("OnlineSelectCascade",O),v("LinkTableCard",L),v("LinkTableSelect",E);function t(){return s(this,null,function*(){const e=d(l);return e||_("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),yield q(),e})}function f(e){D(()=>{l.value=null,c.value=null}),!(d(c)&&K()&&e===d(l))&&(l.value=e,c.value=!0,z(()=>o,()=>{o&&e.setProps(H(o))},{immediate:!0,deep:!0}))}return[f,{scrollToField:(e,a)=>s(this,null,function*(){(yield t()).scrollToField(e,a)}),setProps:e=>s(this,null,function*(){(yield t()).setProps(e)}),updateSchema:e=>s(this,null,function*(){(yield t()).updateSchema(e)}),resetSchema:e=>s(this,null,function*(){(yield t()).resetSchema(e)}),clearValidate:e=>s(this,null,function*(){(yield t()).clearValidate(e)}),resetFields:()=>s(this,null,function*(){t().then(e=>s(this,null,function*(){yield e.resetFields()}))}),removeSchemaByFiled:e=>s(this,null,function*(){var a;(a=d(l))==null||a.removeSchemaByFiled(e)}),getFieldsValue:()=>{var a;const e=(a=d(l))==null?void 0:a.getFieldsValue();return e&&Object.keys(e).map(r=>{e[r]instanceof Array&&(typeof(e[r][0]||"")=="object"||(e[r]=e[r].join(",")))}),e},setFieldsValue:e=>s(this,null,function*(){(yield t()).setFieldsValue(e)}),appendSchemaByField:(e,a,r)=>s(this,null,function*(){(yield t()).appendSchemaByField(e,a,r)}),submit:()=>s(this,null,function*(){return(yield t()).submit()}),validate:e=>s(this,null,function*(){const a=yield t(),r=o||a.getProps;return a.validate(e).then(n=>{for(const m in n)n[m]instanceof Array&&I(r,m)==="string"&&(n[m]=n[m].join(","));return $(r,n)})}),validateFields:e=>s(this,null,function*(){return(yield t()).validateFields(e)})}]}export{W as B,X as u};
