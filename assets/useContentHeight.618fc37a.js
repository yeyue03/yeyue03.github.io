var z=(x,F,m)=>new Promise((M,g)=>{var N=a=>{try{u(m.next(a))}catch(h){g(h)}},E=a=>{try{u(m.throw(a))}catch(h){g(h)}},u=a=>a.done?M(a.value):Promise.resolve(a.value).then(N,E);u((m=m.apply(x,F)).next())});import{onMountedOrActivated as I}from"./onMountedOrActivated.f230a25e.js";import{useWindowSizeFn as K}from"./useWindowSizeFn.0b6b5a55.js";import{u as U}from"./useContentViewHeight.68b39758.js";import{C as A,M as P,E as V,H as r,b3 as W,bU as X,aR as Z,K as _}from"./index.d6323a8b.js";import"./usePageContext.c54f47f4.js";function J(x,F,m,M,g=0,N=A(0)){const E=A(null),{footerHeightRef:u}=U();let a={useLayoutFooter:!0};const h=e=>{a=e};function D(){P(()=>{B()})}function p(e,R="all"){var s,H,l,b;function c(t){return Number(t.replace(/[^\d]/g,""))}let i=0;const f="0px";if(e){const t=getComputedStyle(e),n=c((s=t==null?void 0:t.marginTop)!=null?s:f),o=c((H=t==null?void 0:t.marginBottom)!=null?H:f),d=c((l=t==null?void 0:t.paddingTop)!=null?l:f),k=c((b=t==null?void 0:t.paddingBottom)!=null?b:f);R==="all"?(i+=n,i+=o,i+=d,i+=k):R==="top"?(i+=n,i+=d):(i+=o,i+=k)}return i}function T(e){return e==null?null:e instanceof HTMLDivElement?e:e.$el}function B(){return z(this,null,function*(){var b;if(!x.value)return;yield P();const e=T(r(F));if(!e)return;const{bottomIncludeBody:R}=W(e);let c=0;m.forEach(t=>{var n,o;c+=(o=(n=T(r(t)))==null?void 0:n.offsetHeight)!=null?o:0});let i=(b=p(e))!=null?b:0;M.forEach(t=>{i+=p(T(r(t)))});let f=0;function s(t,n){if(t&&n){const o=t.parentElement;o&&(Z(n)?o.classList.contains(n)?f+=p(o,"bottom"):(f+=p(o,"bottom"),s(o,n)):_(n)&&n>0&&(f+=p(o,"bottom"),s(o,--n)))}}X(g)?s(e,r(g)):s(e,g);let H=R-r(u)-r(N)-c-i-f;const l=()=>{var t;(t=a.elements)==null||t.forEach(n=>{var o,d;H+=(d=(o=T(r(n)))==null?void 0:o.offsetHeight)!=null?d:0})};a.useLayoutFooter&&r(u)>0,l(),E.value=H})}return I(()=>{P(()=>{B()})}),K(()=>{B()},50,{immediate:!0}),V(()=>[u.value],()=>{B()},{flush:"post",immediate:!0}),{redoHeight:D,setCompensation:h,contentHeight:E}}export{J as useContentHeight};
