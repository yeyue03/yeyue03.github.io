import{rules as o}from"./validator.c70dd823.js";import{ei as n,Z as s,H as m,u as p}from"./index.d6323a8b.js";const y=[{title:"\u6A21\u677F\u6807\u9898",dataIndex:"templateName",width:80},{title:"\u6A21\u677F\u7F16\u7801",dataIndex:"templateCode",width:100},{title:"\u901A\u77E5\u6A21\u677F",dataIndex:"templateContent",width:150},{title:"\u6A21\u677F\u7C7B\u578B",dataIndex:"templateType",width:100,customRender:({text:e})=>n("msgType",e)},{title:"\u662F\u5426\u5E94\u7528",dataIndex:"useStatus",width:90,customRender:function({text:e}){return e=="1"?"\u662F":"\u5426"}}],g=[{label:"\u6A21\u677F\u6807\u9898",field:"templateName",component:"Input"},{label:"\u6A21\u677F\u7F16\u7801",field:"templateCode",component:"Input"},{label:"\u6A21\u677F\u7C7B\u578B",field:"templateType",component:"JDictSelectTag",componentProps:{dictCode:"msgType"}}],f=[{label:"ID",field:"id",component:"Input",show:!1},{label:"\u6A21\u677F\u6807\u9898",field:"templateName",component:"Input",required:!0},{label:"\u6A21\u677F\u7F16\u7801",field:"templateCode",component:"Input",dynamicRules:({model:e,schema:t})=>[...o.duplicateCheckRule("sys_sms_template","template_code",e,t,!0)],dynamicDisabled:e=>!!e.values.id},{label:"\u6A21\u677F\u7C7B\u578B",field:"templateType",component:"JDictSelectTag",componentProps:{dictCode:"msgType",placeholder:"\u8BF7\u9009\u62E9\u6A21\u677F\u7C7B\u578B"},required:!0},{label:"\u662F\u5426\u5E94\u7528",field:"useStatus",component:"JSwitch",componentProps:{options:["1","0"]}},{label:"\u6A21\u677F\u5185\u5BB9",field:"templateContent",component:"InputTextArea",componentProps:{autoSize:{minRows:8,maxRows:8}},ifShow:({values:e})=>!["2","4","5"].includes(e.templateType)},{label:"\u6A21\u677F\u5185\u5BB9",field:"templateContent",component:"JEditor",ifShow:({values:e})=>["2","4"].includes(e.templateType)},{label:"\u6A21\u677F\u5185\u5BB9",field:"templateContent",component:"JMarkdownEditor",ifShow:({values:e})=>["5"].includes(e.templateType)}],F=[{label:"\u6A21\u677F\u7F16\u7801",field:"templateCode",component:"Input",show:!1},{label:"\u6A21\u677F\u6807\u9898",field:"templateName",component:"Input",componentProps:{disabled:!0}},{label:"\u6A21\u677F\u5185\u5BB9",field:"templateContent",component:"InputTextArea",componentProps:{disabled:!0,rows:5}},{label:"\u6D4B\u8BD5\u6570\u636E",field:"testData",component:"InputTextArea",required:!0,helpMessage:"JSON\u6570\u636E",defaultValue:"{}",componentProps:{placeholder:"\u8BF7\u8F93\u5165JSON\u683C\u5F0F\u6D4B\u8BD5\u6570\u636E",rows:5}},{label:"\u6D88\u606F\u7C7B\u578B",field:"msgType",component:"JDictSelectTag",required:!0,defaultValue:"system",componentProps:{dictCode:"messageType",type:"radio"}},{label:"\u6D88\u606F\u63A5\u6536\u65B9",field:"receiver",required:!0,component:"JSelectUser",componentProps:{labelKey:"username",rowKey:"username"}}],{createConfirm:r}=p();var d=(e=>(e.list="/sys/message/sysMessageTemplate/list",e.delete="/sys/message/sysMessageTemplate/delete",e.deleteBatch="/sys/message/sysMessageTemplate/deleteBatch",e.exportXls="sys/message/sysMessageTemplate/exportXls",e.importXls="sys/message/sysMessageTemplate/importExcel",e.save="/sys/message/sysMessageTemplate/add",e.edit="/sys/message/sysMessageTemplate/edit",e.send="/sys/message/sysMessageTemplate/sendMsg",e))(d||{});const T=e=>s.get({url:"/sys/message/sysMessageTemplate/list",params:e}),B=(e,t=!1)=>new Promise((a,l)=>{const u=()=>{a(s.delete({url:"/sys/message/sysMessageTemplate/deleteBatch",params:e},{joinParamsToUrl:!0}))};t?r({iconType:"warning",title:"\u5220\u9664",content:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",onOk:()=>u(),onCancel:()=>l()}):u()}),h=(e,t)=>m(t)?s.put({url:"/sys/message/sysMessageTemplate/edit",params:e}):s.post({url:"/sys/message/sysMessageTemplate/add",params:e}),b=e=>s.post({url:"/sys/message/sysMessageTemplate/sendMsg",params:e});export{d as A,F as a,b,y as c,g as d,B as e,f,T as l,h as s};
