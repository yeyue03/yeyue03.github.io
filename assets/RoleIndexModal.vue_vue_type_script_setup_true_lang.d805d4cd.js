var v=Object.defineProperty;var g=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var w=(a,s,e)=>s in a?v(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,_=(a,s)=>{for(var e in s||(s={}))B.call(s,e)&&w(a,e,s[e]);if(g)for(var e of g(s))C.call(s,e)&&w(a,e,s[e]);return a};var f=(a,s,e)=>new Promise((c,d)=>{var u=o=>{try{t(e.next(o))}catch(i){d(i)}},m=o=>{try{t(e.throw(o))}catch(i){d(i)}},t=o=>o.done?c(o.value):Promise.resolve(o.value).then(u,m);t((e=e.apply(a,s)).next())});import{B as x}from"./index.d82ed84a.js";import{u as F,B as y}from"./useForm.c448380d.js";import"./componentMap.fc77c2dc.js";import{j as M,C as R,bH as I,H as n,s as k,Q as b,w as L,v as U,x as j}from"./index.d6323a8b.js";import{r as H}from"./role.data.1b0a6ca9.js";import{j as O,k as P}from"./role.api.de376f46.js";const N=M({__name:"RoleIndexModal",emits:["register","success"],setup(a,{emit:s}){const e=R(!0),[c,{resetFields:d,setFieldsValue:u,validate:m}]=F({labelWidth:150,schemas:H,showActionButtonGroup:!1}),[t,{setModalProps:o,closeModal:i}]=I(l=>f(this,null,function*(){var p;yield d(),o({confirmLoading:!1}),u({roleCode:l.roleCode});let r=yield O({roleCode:l.roleCode});e.value=!!((p=r.result)!=null&&p.id),n(e)&&(yield u(_({},r.result)))}));function h(l){return f(this,null,function*(){try{let r=yield m();o({confirmLoading:!0}),yield P(r,e.value),i(),s("success",{isUpdate:e.value,values:r})}finally{o({confirmLoading:!1})}})}return(l,r)=>(k(),b(n(x),j(l.$attrs,{onRegister:n(t),title:"\u9996\u9875\u914D\u7F6E",onOk:h,width:"40%"}),{default:L(()=>[U(n(y),{onRegister:n(c)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}});export{N as _};
