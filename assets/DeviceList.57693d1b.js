import m from"./DeviceItem.33bccaab.js";import{g as v,a as d}from"./controller.api.50e8f0e1.js";import{j as p,C as _,a as r,ds as f,b5 as D,q as h,r as g,s as n,t as u,ax as B,bc as L,v as k}from"./index.d6323a8b.js";const y=p({name:"IndexDeviceList",components:{DeviceItem:m},emits:["selectDevice"],setup(){const i=_([]),o=()=>{i.value=[],v().then(t=>{if(t&&t.length)for(const c of t)c.url=r(c.url);i.value=t||[],s(),console.log("=== \u8BBE\u5907\u5217\u8868: ",t)})};o();const a=t=>{const c={deviceId:t.id};d(c).then(e=>{t.temperature=(e==null?void 0:e.temperature)||25,t.humidity=(e==null?void 0:e.humidity)||25,t.beam=(e==null?void 0:e.beam)||25,t.setTemperature=(e==null?void 0:e.temperature)||25,t.setHumidity=(e==null?void 0:e.humidity)||25,t.setBeam=(e==null?void 0:e.beam)||25})},s=()=>{const t=i.value;if(t&&t.length)for(const c of t)a(c)};return{deviceList:i,initDeviceList:o,clickDevice:t=>{if(!t.isLink)return f.warning("\u8BE5\u8BBE\u5907\u4E0D\u53EF\u8FDE\u63A5\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458");D.push({path:"/device/controller",query:{id:t.id}})}}}});const F={class:"scheme-box"},I=["onClick"];function C(i,o,a,s,l,t){const c=g("DeviceItem");return n(),u("div",F,[(n(!0),u(B,null,L(i.deviceList,(e,E)=>(n(),u("div",{key:e.id,class:"scheme-item",onClick:b=>i.clickDevice(e)},[k(c,{infoItem:e},null,8,["infoItem"])],8,I))),128))])}const A=h(y,[["render",C],["__scopeId","data-v-1a89540c"]]);export{A as default};
