var h=Object.defineProperty;var p=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var g=(a,s,e)=>s in a?h(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,w=(a,s)=>{for(var e in s||(s={}))v.call(s,e)&&g(a,e,s[e]);if(p)for(var e of p(s))y.call(s,e)&&g(a,e,s[e]);return a};var m=(a,s,e)=>new Promise((l,c)=>{var u=t=>{try{n(e.next(t))}catch(r){c(r)}},d=t=>{try{n(e.throw(t))}catch(r){c(r)}},n=t=>t.done?l(t.value):Promise.resolve(t.value).then(u,d);n((e=e.apply(a,s)).next())});import{B as M}from"./index.d82ed84a.js";import{u as b,B as x}from"./useForm.c448380d.js";import"./componentMap.fc77c2dc.js";import{j as D,C as R,bH as k,H as i,m as C,s as L,Q as S,w as T,v as U,x as H}from"./index.d6323a8b.js";import{f as I,g as O,s as P}from"./tenant.api.12483c43.js";const Q=D({__name:"TenantModal",emits:["register","success"],setup(a,{emit:s}){const e=R(!0),[l,{resetFields:c,setFieldsValue:u,validate:d,updateSchema:n}]=b({schemas:I,showActionButtonGroup:!1}),[t,{setModalProps:r,closeModal:B}]=k(o=>m(this,null,function*(){yield c(),r({confirmLoading:!1}),e.value=!!(o!=null&&o.isUpdate),i(e)?(n({field:"id",dynamicDisabled:!0}),o.record=yield O({id:o.record.id}),yield u(w({},o.record))):n({field:"id",dynamicDisabled:!1})})),F=C(()=>i(e)?"\u7F16\u8F91\u79DF\u6237":"\u65B0\u589E\u79DF\u6237");function _(o){return m(this,null,function*(){try{let f=yield d();r({confirmLoading:!0}),yield P(f,e.value),B(),s("success")}finally{r({confirmLoading:!1})}})}return(o,f)=>(L(),S(i(M),H(o.$attrs,{onRegister:i(t),title:i(F),onOk:_,width:"700px"}),{default:T(()=>[U(i(x),{onRegister:i(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Q as _};
