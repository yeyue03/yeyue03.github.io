var A=Object.defineProperty,F=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var Y=(r,t,e)=>t in r?A(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,d=(r,t)=>{for(var e in t||(t={}))R.call(t,e)&&Y(r,e,t[e]);if(w)for(var e of w(t))T.call(t,e)&&Y(r,e,t[e]);return r},h=(r,t)=>F(r,L(t));var p=(r,t,e)=>new Promise((f,u)=>{var g=o=>{try{i(e.next(o))}catch(n){u(n)}},M=o=>{try{i(e.throw(o))}catch(n){u(n)}},i=o=>o.done?f(o.value):Promise.resolve(o.value).then(g,M);i((e=e.apply(r,t)).next())});import{B as k}from"./index.d82ed84a.js";import{u as v,B as x}from"./useForm.c448380d.js";import"./componentMap.fc77c2dc.js";import{j as B,bH as C,cG as l,s as E,Q as N,w as Q,v as V,H as c,x as b}from"./index.d6323a8b.js";import{c as j}from"./user.data.ded38024.js";import{f as G,h as P}from"./user.api.2e174b62.js";const S=B({name:"user-quit-agent-modal"}),K=B(h(d({},S),{emits:["success","register"],setup(r,{emit:t}){const[e,{resetFields:f,setFieldsValue:u,validate:g,clearValidate:M}]=v({schemas:j,showActionButtonGroup:!1}),[i,{setModalProps:o,closeModal:n}]=C(s=>p(this,null,function*(){yield f(),o({confirmLoading:!1}),o({confirmLoading:!1});const a=yield G({userName:s.userName});s=a.result?a.result:s;let m=new Date;s.startTime||(s.startTime=l(m).format("YYYY-MM-DD HH:mm:ss")),s.endTime||(s.endTime=D(m)),yield u(d({},s))}));function H(){return p(this,null,function*(){try{const s=yield g();o({confirmLoading:!0}),yield P(s),n(),t("success")}finally{o({confirmLoading:!1})}})}function D(s){let a=s.getFullYear()+30,m=l(s).format("MM"),_=l(s).format("DD"),y=l(s).format("HH:mm:ss");return console.log("\u5E74\u6708\u65E5",a+"-"+m+"-"+_),l(a+"-"+m+"-"+_+" "+y).format("YYYY-MM-DD HH:mm:ss")}return(s,a)=>(E(),N(c(k),b(s.$attrs,{onRegister:c(i),width:800,title:"\u79BB\u804C\u4EA4\u63A5",onOk:H}),{default:Q(()=>[V(c(x),{onRegister:c(e)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}}));export{K as _};
