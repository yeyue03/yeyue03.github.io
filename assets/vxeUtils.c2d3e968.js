var y=(e,u,t)=>new Promise((l,s)=>{var a=n=>{try{i(t.next(n))}catch(o){s(o)}},c=n=>{try{i(t.throw(n))}catch(o){s(o)}},i=n=>n.done?l(n.value):Promise.resolve(n.value).then(a,c);i((t=t.apply(e,u)).next())});import{$ as F}from"./index.d6323a8b.js";const p=Symbol();function d(e,u,t,l,s){return y(this,null,function*(){if(!(e&&typeof e=="function"))throw`validate \u53C2\u6570\u9700\u8981\u7684\u662F\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u800C\u4F20\u5165\u7684\u5374\u662F${typeof e}`;let a={};const c=yield new Promise((n,o)=>{e().then(()=>{for(const r in u)u[r]instanceof Array&&F(l,r)==="string"&&(u[r]=u[r].join(","));n(u)}).catch(()=>{o({error:p})})});Object.assign(a,{formValue:c});const i=yield v(t,s);return a=Object.assign(a,{tablesValue:i}),a})}function v(e,u=!0){if(!(e instanceof Array))throw`'validateTables'\u51FD\u6570\u7684'cases'\u53C2\u6570\u9700\u8981\u7684\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u800C\u4F20\u5165\u7684\u5374\u662F${typeof e}`;return new Promise((t,l)=>{const s=[];let a=0;(!e||e.length===0)&&t(s),function c(){const i=e[a];i.value.validateTable().then(n=>{if(!n)s[a]={tableData:i.value.getTableData()},++a===e.length?t(s):c();else{let o;const r=b(i.value,"ATabPane");if(r&&(o=r.$.vnode.key,u)){const f=b(r,"Tabs");f&&f.setActiveKey&&f.setActiveKey(o)}l({error:p,index:a,paneKey:o,errMap:n})}})}()})}function b(e,u){const t=e.$parent;if(t&&t.$options){if(t.$options.name===u)return t;{const l=b(t,u);if(l)return l}}return null}export{p as VALIDATE_FAILED,b as getVmParentByName,d as validateFormModelAndTables,v as validateTables};
