var h=Object.defineProperty;var d=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var f=(o,s,e)=>s in o?h(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,g=(o,s)=>{for(var e in s||(s={}))R.call(s,e)&&f(o,e,s[e]);if(d)for(var e of d(s))_.call(s,e)&&f(o,e,s[e]);return o};var p=(o,s,e)=>new Promise((n,c)=>{var l=t=>{try{u(e.next(t))}catch(r){c(r)}},m=t=>{try{u(e.throw(t))}catch(r){c(r)}},u=t=>t.done?n(t.value):Promise.resolve(t.value).then(l,m);u((e=e.apply(o,s)).next())});import{B as v}from"./index.d82ed84a.js";import{u as M,B as C}from"./useForm.c448380d.js";import"./componentMap.fc77c2dc.js";import{j as x,C as y,bH as I,H as i,m as k,s as L,Q as S,w as U,v as b,x as H}from"./index.d6323a8b.js";import{e as O,s as P}from"./menu.data.46f84dcd.js";const Q=x({__name:"DataRuleModal",props:{permissionId:String},emits:["success","register"],setup(o,{emit:s}){const e=o,n=y(!0),[c,{resetFields:l,setFieldsValue:m,validate:u}]=M({schemas:O,showActionButtonGroup:!1}),[t,{setModalProps:r,closeModal:w}]=I(a=>p(this,null,function*(){yield l(),r({confirmLoading:!1}),n.value=!!(a!=null&&a.isUpdate),i(n)&&(yield m(g({},a.record)))})),B=k(()=>i(n)?"\u7F16\u8F91\u89C4\u5219":"\u65B0\u589E\u89C4\u5219");function F(){return p(this,null,function*(){try{const a=yield u();a.permissionId=e.permissionId,r({confirmLoading:!0}),yield P(a,n.value),w(),s("success")}finally{r({confirmLoading:!1})}})}return(a,V)=>(L(),S(i(v),H(a.$attrs,{onRegister:i(t),title:i(B),onOk:F,width:"700px"}),{default:U(()=>[b(i(C),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Q as _};
