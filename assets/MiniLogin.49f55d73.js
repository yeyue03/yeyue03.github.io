var H=Object.defineProperty,W=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var N=(o,a,s)=>a in o?H(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,T=(o,a)=>{for(var s in a||(a={}))O.call(a,s)&&N(o,s,a[s]);if(K)for(var s of K(a))Q.call(a,s)&&N(o,s,a[s]);return o},D=(o,a)=>W(o,F(a));var I=(o,a,s)=>new Promise((v,h)=>{var n=c=>{try{l(s.next(c))}catch(_){h(_)}},M=c=>{try{l(s.throw(c))}catch(_){h(_)}},l=c=>c.done?v(c.value):Promise.resolve(c.value).then(n,M);l((s=s.apply(o,a)).next())});import{j as V,l as X,cN as Z,o as G,dZ as J,a7 as U,C,eg as Y,X as ee,r as k,s as g,t as m,v as d,H as t,d_ as se,d$ as oe,aW as e,N as ae,O as ne,B as q,z as S,Q as te,w as f,bT as ie,R as le,y as ce,e1 as ue,ab as de,dm as re,dn as _e,u as pe,q as ge}from"./index.d6323a8b.js";import{c as me}from"./checkcode.26910ff2.js";const P="/assets/logo.beddab10.png",L=o=>(re("data-v-89207a4a"),o=o(),_e(),o),fe={key:0,class:"aui-logo"},ve=["src"],he={key:1,class:"aui-phone-logo"},ye=["src"],xe={class:"aui-content"},Ce={class:"aui-container"},ke={class:"aui-form"},we={class:"aui-formBox"},be={class:"aui-formWell"},Ie={class:"aui-flex aui-form-nav investment_title"},Se={class:"aui-form-box",style:{height:"180px"}},Le={class:"aui-account"},Me={class:"aui-inputClear"},Be=L(()=>e("i",{class:"icon icon-code"},null,-1)),Ke={class:"aui-inputClear"},Ne=L(()=>e("i",{class:"icon icon-password"},null,-1)),Te={class:"aui-inputClear"},De=L(()=>e("i",{class:"icon icon-code"},null,-1)),Ue={class:"aui-code"},qe=["src"],Pe=["src"],Ve={class:"aui-flex"},$e={class:"aui-flex-box"},Ae={class:"aui-choice"},Re={style:{"margin-left":"5px"}},je={class:"aui-formButton"},ze={class:"aui-flex"},Ee=V({name:"login-mini"}),He=V(D(T({},Ee),{props:{sessionTimeout:{type:Boolean}},setup(o){const{prefixCls:a}=X("mini-login"),{notification:s,createMessage:v}=pe(),h=Z(),{t:n}=G();J().getShowPicker;const l=U({randCodeImage:"",requestCodeSuccess:!1,checkKey:null}),c=C("0"),_=C("accountLogin"),$=C("login"),i=U({inputCode:"",username:"admin",password:"123456"}),w=C(!1),{getIsMobile:A}=Y();function y(){i.inputCode="",l.checkKey=1629428467008,ue(l.checkKey).then(r=>{l.randCodeImage=r,l.requestCodeSuccess=!0})}function R(r){_.value=r}function B(){return I(this,null,function*(){t(_)==="accountLogin"&&j()})}function j(){return I(this,null,function*(){if(!i.username){v.warn(n("sys.login.accountPlaceholder"));return}if(!i.password){v.warn(n("sys.login.passwordPlaceholder"));return}try{w.value=!0;const r=yield h.login(de({password:i.password,username:i.username,captcha:i.inputCode,checkKey:l.checkKey,mode:"none"}));r&&s.success({message:n("sys.login.loginSuccessTitle"),description:`${n("sys.login.loginSuccessDesc")}: ${r.userInfo.realname}`,duration:3})}catch(r){s.error({message:n("sys.api.errorTip"),description:r.message||n("sys.login.networkExceptionMsg"),duration:3}),y()}finally{w.value=!1}})}return ee(()=>{y()}),(r,u)=>{const x=k("a-input"),b=k("a-form-item"),z=k("a-form"),E=k("a-button");return g(),m("div",{class:q([t(a),"login-background-img"])},[d(t(se),{class:"absolute top-4 right-4 enter-x xl:text-gray-600",showText:!1}),d(t(oe),{class:"absolute top-3 right-7 enter-x"}),t(A)?(g(),m("div",he,[e("img",{src:t(P),alt:"fda"},null,8,ye)])):(g(),m("div",fe,[e("div",null,[e("h3",null,[e("img",{src:t(P),alt:"fda"},null,8,ve)])])])),ae(e("div",null,[e("div",xe,[e("div",Ce,[e("div",ke,[e("div",we,[e("div",be,[e("div",Ie,[e("div",{class:q(["aui-flex-box",_.value==="accountLogin"?"activeNav on":""]),onClick:u[0]||(u[0]=p=>R("accountLogin"))},S(t(n)("sys.login.signInFormTitle")),3)]),e("div",Se,[_.value==="accountLogin"?(g(),te(z,{key:0,ref:"loginRef",model:i,onKeyup:ie(B,["enter"])},{default:f(()=>[e("div",Le,[e("div",Me,[Be,d(b,null,{default:f(()=>[d(x,{class:"fix-auto-fill",placeholder:t(n)("sys.login.userName"),value:i.username,"onUpdate:value":u[1]||(u[1]=p=>i.username=p)},null,8,["placeholder","value"])]),_:1})]),e("div",Ke,[Ne,d(b,null,{default:f(()=>[d(x,{class:"fix-auto-fill",type:"password",placeholder:t(n)("sys.login.password"),value:i.password,"onUpdate:value":u[2]||(u[2]=p=>i.password=p)},null,8,["placeholder","value"])]),_:1})]),e("div",Te,[De,d(b,null,{default:f(()=>[d(x,{class:"fix-auto-fill",type:"text",placeholder:t(n)("sys.login.inputCode"),value:i.inputCode,"onUpdate:value":u[3]||(u[3]=p=>i.inputCode=p)},null,8,["placeholder","value"])]),_:1}),e("div",Ue,[l.requestCodeSuccess?(g(),m("img",{key:0,src:l.randCodeImage,onClick:y},null,8,qe)):(g(),m("img",{key:1,style:{"margin-top":"2px","max-width":"initial"},src:t(me),onClick:y},null,8,Pe))])]),e("div",Ve,[e("div",$e,[e("div",Ae,[d(x,{class:"fix-auto-fill",type:"checkbox",value:c.value,"onUpdate:value":u[4]||(u[4]=p=>c.value=p)},null,8,["value"]),e("span",Re,S(t(n)("sys.login.rememberMe")),1)])])])])]),_:1},8,["model","onKeyup"])):le("",!0)]),e("div",je,[e("div",ze,[d(E,{loading:w.value,class:"aui-link-login aui-flex-box",type:"primary",onClick:B},{default:f(()=>[ce(S(t(n)("sys.login.loginButton")),1)]),_:1},8,["loading"])])])])])])])])],512),[[ne,$.value==="login"]])],2)}}}));const Qe=ge(He,[["__scopeId","data-v-89207a4a"]]);export{Qe as default};
