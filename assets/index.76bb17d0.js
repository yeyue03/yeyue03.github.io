var F=(b,p,r)=>new Promise((_,o)=>{var i=l=>{try{g(r.next(l))}catch(m){o(m)}},v=l=>{try{g(r.throw(l))}catch(m){o(m)}},g=l=>l.done?_(l.value):Promise.resolve(l.value).then(i,v);g((r=r.apply(b,p)).next())});import{j as x,C as h,a7 as N,r as f,s as S,t as Y,v as a,w as n,y as s,Z as K,H as d}from"./index.d6323a8b.js";import{B as T}from"./Bar.c421aabb.js";import{P as U}from"./Pie.13fbc4ca.js";import"./useECharts.09396270.js";import"./echarts.89625759.js";const $={class:"p-4"},q=x({__name:"index",setup(b){const p=h("bar"),r=h("year"),_=h("year"),o=h([]),i=N({getYearCountInfo:"/mock/api/report/getYearCountInfo",getMonthCountInfo:"/mock/api/report/getMonthCountInfo",getCntrNoCountInfo:"/mock/api/report/getCntrNoCountInfo",getCabinetCountInfo:"/mock/api/report/getCabinetCountInfo"});function v(t,e,u){return F(this,null,function*(){const c=yield K.get({url:t,params:u},{isTransformResponse:!1,errorMessageMode:"none"});if(c.success)switch(o.value=[],e){case"year":g(c.result);break;case"month":l(c.result);break;case"category":m(c.result);break;case"cabinet":I(c.result);break}})}function g(t){for(let e=0;e<t.length;e++)o.value.push({name:`${t[e].year}\u5E74`,value:t[e].yearcount})}function l(t){for(let e=0;e<t.length;e++)o.value.push({name:`${t[e].month}`,value:t[e].monthcount})}function m(t){for(let e=0;e<t.length;e++)o.value.push({name:`${t[e].classifyname}`,value:t[e].cntrnocount})}function I(t){for(let e=0;e<t.length;e++)o.value.push({name:`${t[e].cabinetname}`,value:t[e].cabinetcocunt})}function y(t){d(p)==="pie"?v(B(d(_)),d(_),{}):v(B(d(r)),d(r),{})}function B(t){if(t==="year")return i.getYearCountInfo;if(t==="month")return i.getMonthCountInfo;if(t==="category")return i.getCntrNoCountInfo;if(t==="cabinet")return i.getCabinetCountInfo}function A(t){console.log("\u5207\u6362\u7684key:",t)}return v(i.getYearCountInfo,"year",{}),(t,e)=>{const u=f("a-radio-button"),c=f("a-radio-group"),D=f("a-col"),E=f("a-row"),k=f("a-tab-pane"),w=f("a-tabs"),M=f("a-card");return S(),Y("div",$,[a(M,{bordered:!1,style:{height:"100%"}},{default:n(()=>[a(w,{activeKey:p.value,"onUpdate:activeKey":e[2]||(e[2]=C=>p.value=C),animated:"",onChange:A},{default:n(()=>[a(k,{key:"bar",tab:"\u67F1\u72B6\u56FE"},{default:n(()=>[a(E,null,{default:n(()=>[a(D,{span:10},{default:n(()=>[a(c,{value:r.value,"onUpdate:value":e[0]||(e[0]=C=>r.value=C),onChange:y},{default:n(()=>[a(u,{value:"year"},{default:n(()=>[s("\u6309\u5E74\u7EDF\u8BA1")]),_:1}),a(u,{value:"month"},{default:n(()=>[s("\u6309\u6708\u7EDF\u8BA1")]),_:1}),a(u,{value:"category"},{default:n(()=>[s("\u6309\u7C7B\u522B\u7EDF\u8BA1")]),_:1}),a(u,{value:"cabinet"},{default:n(()=>[s("\u6309\u67DC\u53F7\u7EDF\u8BA1")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(T,{chartData:o.value,height:"50vh"},null,8,["chartData"])]),_:1}),a(k,{key:"pie",tab:"\u997C\u72B6\u56FE","force-render":""},{default:n(()=>[a(E,{gutter:24},{default:n(()=>[a(D,{span:10},{default:n(()=>[a(c,{value:_.value,"onUpdate:value":e[1]||(e[1]=C=>_.value=C),onChange:y},{default:n(()=>[a(u,{value:"year"},{default:n(()=>[s("\u6309\u5E74\u7EDF\u8BA1")]),_:1}),a(u,{value:"month"},{default:n(()=>[s("\u6309\u6708\u7EDF\u8BA1")]),_:1}),a(u,{value:"category"},{default:n(()=>[s("\u6309\u7C7B\u522B\u7EDF\u8BA1")]),_:1}),a(u,{value:"cabinet"},{default:n(()=>[s("\u6309\u67DC\u53F7\u7EDF\u8BA1")]),_:1})]),_:1},8,["value"])]),_:1}),a(U,{chartData:o.value,height:"40vh"},null,8,["chartData"])]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1})])}}});export{q as default};
